
			Documentacion Software de Autorización e Impresion de FAE

						Fecha de Actualizacion 27/05/2021

			 1 - Funcionamiento
			 2 - Formato de archivo de Encabezado
			 3 - Formato de archivo de Cuerpo
						 
						 
			 1 - Funcionamiento
					 
				El nombre del archivo debe ser representativo para el administrador, para el
			aplicativo de toma de archivos y autorización con AFIP, no es primordial. 
			Por Ejemplo puede ser el identificador interno del comprobante 0000123456.CA0
				El aplicativo espera leer un archivo con extension CA0 para autorizar el comprobante,
			y luego para imprimir necesita del archivo CU0 donde se almacena el cuerpo (articulos, conceptos).
				Este sistema tiene dos proceso incorporados internamente, pero que pueden 
			funcionar separados dependiendo el parametro. Ya que la idea es que este funcionando 
			durante el proceso de facturación ya sea en lote o manual, dependiendo del sistema
			del cliente. Por eso los proceso son AUTORIZACION e IMPRESION. Cada vez que el aplicativo
			detecte un archivo CA0, intentara autorizarlo, si es aceptado, reemplazara los datos devueltos
			por AFIP y copiara la informacion a la carpeta de impresion. Luego el proceso de impresion 
			hara la misma accion, pero buscara archivos CA2 para comenzar a imprimir. El cambio de extension
			corresponde a una confirmacion visual de que el archivo original ya esta autorizado. Luego
			de la impresion el proceso cambia la extension a CA3, para mostrar visualmente que el archivo
			fue impreso y no volver a tomarlo.
				Cabe aclarar que si el comprobante no es autorizado se convierte a CA1, el sistema leera 
			primero los CA1, sino encuenta ninguna buscara CA0. Eso es para prevenir errores de desconexion
			antes de poder hacer el pasaje a CA2 (Si es que fue autorizado)
				Si fuera el caso de una reimpresion, el desarrollador puede alojar en la carpeta de impresion
			el archivo CA2 (Que es el mismo formato de CA0, pero con los campos devueltos por 
			afip completos: Nro CAE,Vto de CAE etc) y al activar el proceso de impresion, este se encargaria
			de reimprimir el comprobante. Con esta funcion clave aclarar que el desarrollador debe tomar el 
			archivo CA1 y almacenar en su sistema de datos los valores devueltos por AFIP para poder
			realizar una reimpresion, porque si estos no se tienen, saldra informacion incompelta.
			
			
			2 - Formato dfe archivo de Encabezado
				Los archivos son nativos DBF que se renomarban con la extension CA0.
				
				Orden : Numerico 12
				TipoCbte: Numerico 2
				Talonario: Numerico 4
				NumComp: Numerico 8
				Letra: Caracter (1)
				CUIT: Caracter (13) Formato XX-XXXXXXXX-X
				CategoIva: Caracter (2) 
				Total: Numerico 12,3
				Fecha: Date
				CAETipo: Caracter (4) "CAE / CAEA"
				NroDNI: Caracter (8) Formato XXXXXXXX
				TipoComp: Numerico 1
				TipoCuit: Numerico 1
				CAE : Caracter (14)
				UltNum: Numerico 8 
				Accion: Caracter (1) {Si es R, copia el archivo en el destino para el proceso de impresion}
				NameFile: Caracter (100)
				Informado: Numerico 1
				FecVtoCAE: Date
				HojaActual: Numerico 2
				Cliente: Entero
				Nombre: Caracter (40)
				ProximoNro: Caracter (13)
				Direccion: Caracter c(30)
				Localidad: Caracter c(20)
				Provincia: Caracter c(20)
				Fecha_Vto: Date
				Vendedor: Caracter c(8)
				*----------Para las N.Credito es obligatorio
				Aso_Numcomp:Numerico (13)
				*Aso_Letra: Caracter (1)
				*Aso_Talonario: Numerico (5)
				Aso_TipoComp: Numerico 1
				Aso_Fecha:  char(8) 20210531
				
			3 - Formato de archivo Cuerpo
				Kilos: Numerico (13,4)
				Articulo: Entero {Codigo}
				UniVenta: Numerico 1
				UniBulto: Numerico 2
				Fecha_Ofer: Caracter (10)
				Bonif: Numerico 8,3
				Iva_Ri: Numeric(6,2) {Alicuota de iva 21}
				Cantidad: Numerico 13,4
				Internos: Numerico 13,4
				PrecioArt: Numeric(12,2) {Sin iva}
				Nombre: Caracter (30)
				
				
				
			TipoCbte
				1 : Factura A
				2 : Nota Debito A
				3 : Nota Credito A
				6 : Factura B
				7 : Nota Debito B
				8 : Nota Credito B
				
			CategoIva
				1 : RI
				3 : CF
				4 : EX
				5 : RM
				
				